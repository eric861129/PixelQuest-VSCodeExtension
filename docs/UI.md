# 🎨 PixelQuest UI/UX 視覺設計規範 (Grid-Based System)

## 1. 網格布局定義 (The 16-Grid Canvas)

畫布採用 $4 \times 4$ 的等分網格，總寬高比例建議為 $1:1$ 或 $4:3$。

| 0 (Boss)       | 1 (Boss)       | 2 (Boss)        | 3 (Boss)        |
| -------------- | -------------- | --------------- | --------------- |
| **4 (Effect)** | **5 (Effect)** | **6 (Effect)**  | **7 (Effect)**  |
| **8 (Effect)** | **9 (Effect)** | **10 (Effect)** | **11 (Effect)** |
| **12 (Empty)** | **13 (Hero)**  | **14 (Path)**   | **15 (Event)**  |

* **基礎單位**：每個格子為 1 Unit。
* **座標系統**：左上角為 $(0,0)$，右下角為 $(3,3)$。角色固定於 $(1,3)$，即第 13 格。

---

## 2. 渲染層次架構 (Z-Index Layers)

雖然畫布是平面的，但為了實現「技能覆蓋」與「場景切換」，我們定義三層渲染深度：

1. **Background Layer (背景層)**：渲染地圖背景、存檔點、商店建築（第 15 格）。
2. **Sprite Layer (主體層)**：渲染 Boss（0-3 格）與 角色（13 格）。
3. **FX Layer (特效層)**：渲染技能特效、血條 (HP Bar)、傷害數字 (Pop-up Damage)。**此層永遠置頂**。

---

## 3. 區域角色與細節補強 (Refined Details)

### A. Boss 區 (格 0, 1, 2, 3)

* **視覺設計**：Boss 體型較大，可橫跨這四格。
* **血條位置**：固定在第 0, 1 格的上方（畫布最頂部）。
* **補強細節**：當任務進度接近 100% 時，Boss 增加「閃爍紅光」的生氣 (Enraged) 特效。

### B. 角色區 (格 13)

* **狀態切換**：
* **戰鬥時**：面向左上方（朝向 Boss）。
* **事件時**：面向右方（朝向第 15 格）。


* **補強細節**：增加一個「讀條中」的小圖示（如思考泡泡），當 GeminiCLI 正在思考但尚未輸出時顯示。

### C. 事件與特殊場景 (格 15)

* **物件清單**：
* `npm install`：格 15 出現商人 NPC。
* `git push`：格 15 出現女神像/營火。


* **交互路徑**：角色從 13 格發射「光束」穿過 14 格到達 15 格，代表正在執行任務。

### D. 技能效果區 (格 4~11)

* **彈道邏輯**：
* **遠程攻擊**：特效從 13 經過 9, 5 到達 1。
* **近戰攻擊**：角色 Sprite 瞬間位移到 5 或 9 格，執行攻擊動作後回彈。



---

## 4. 動態回饋規範 (Feedback Logic)

| 觸發條件       | 視覺動作                           | 補強細節 (PDM 建議)                              |
| -------------- | ---------------------------------- | ------------------------------------------------ |
| **開始任務**   | Boss 出現，血條由 0 補滿至 100%。  | 增加「VS Code 啟動」的音效文字（如 *Swoosh!*）。 |
| **數據輸出中** | 角色持續對 Boss 進行連擊。         | 每次攻擊掉落 1-5 點的小傷害數值。                |
| **任務成功**   | Boss 消失，角色做出 Victory Pose。 | 第 15 格噴出金幣，並顯示「Mission Complete」。   |
| **任務失敗**   | 角色變為「靈魂態」或倒地。         | 畫面上方出現「Game Over」濾鏡。                  |

---
